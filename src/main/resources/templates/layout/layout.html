<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      th:fragment="dynamic(view)">
<head>
    <title> Sachi House  Đà Lạt</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="icon" th:href="@{/images/logoweb.jpg}" type="image/x-icon">
    <link href="https://fonts.googleapis.com/css?family=Poppins:200,300,400,500,600,700" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Playfair+Display:400,400i,700,700i" rel="stylesheet">

    <link rel="stylesheet" th:href="@{/assets/css/open-iconic-bootstrap.min.css}">
    <link rel="stylesheet" th:href="@{/assets/css/animate.css}">

    <link rel="stylesheet" th:href="@{/assets/css/owl.carousel.min.css}">
    <link rel="stylesheet" th:href="@{/assets/css/owl.theme.default.min.css}">
    <link rel="stylesheet" th:href="@{/assets/css/magnific-popup.css}">

    <link rel="stylesheet" th:href="@{/assets/css/aos.css}">

    <link rel="stylesheet" th:href="@{/assets/css/ionicons.min.css}">

    <link rel="stylesheet" th:href="@{/assets/css/bootstrap-datepicker.css}">
    <link rel="stylesheet" th:href="@{/assets/css/jquery.timepicker.css}">


    <link rel="stylesheet" th:href="@{/assets/css/flaticon.css}">
    <link rel="stylesheet" th:href="@{/assets/css/icomoon.css}">
    <link rel="stylesheet" th:href="@{/assets/css/style.css}">
    <link rel="stylesheet" th:href="@{/assets/css/menucontact.css}">
    <link rel="stylesheet" th:href="@{https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css}"
          integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
          crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>

<nav>
    <div th:replace="~{/layout/header.html}"></div>
</nav>


<main th:replace="${view}"></main>

<div th:replace="~{/layout/menucontact.html}"></div>

<nav>
    <div th:replace="~{/layout/footer.html}"></div>
</nav>

<script th:src="@{/assets/js/jquery.min.js}"></script>
<script th:src="@{/assets/js/jquery-migrate-3.0.1.min.js}"></script>
<script th:src="@{/assets/js/popper.min.js}"></script>
<script th:src="@{/assets/js/bootstrap.min.js}"></script>
<script th:src="@{/assets/js/jquery.easing.1.3.js}"></script>
<script th:src="@{/assets/js/jquery.waypoints.min.js}"></script>
<script th:src="@{/assets/js/jquery.stellar.min.js}"></script>
<script th:src="@{/assets/js/owl.carousel.min.js}"></script>
<script th:src="@{/assets/js/jquery.magnific-popup.min.js}"></script>
<script th:src="@{/assets/js/aos.js}"></script>
<script th:src="@{/assets/js/jquery.animateNumber.min.js}"></script>
<script th:src="@{/assets/js/bootstrap-datepicker.js}"></script>
<script th:src="@{/assets/js/jquery.timepicker.min.js}"></script>
<script th:src="@{/assets/js/scrollax.min.js}"></script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBVWaKrjvy3MaE7SQ74_uJiULgl1JY0H2s&sensor=false"></script>
<script th:src="@{/assets/js/google-map.js}"></script>
<script th:src="@{/assets/js/main.js}"></script>
<script th:src="@{/assets/js/test.js}"></script>
<script th:src="@{https://cdn.jsdelivr.net/npm/bootstrap@5.4.3/dist/js/bootstrap.bundle.min.js}"></script>
<script th:src="@{https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js}"></script>
<script th:src="@{https://code.jquery.com/jquery-3.6.0.min.js}"></script>


<script>
    // Ẩn tất cả các phần danh mục ẩn ban đầu
    document.querySelectorAll('.collapsed-menu').forEach(function (menu) {
        menu.classList.add('collapse');
    });

    // Xử lý sự kiện khi nhấp vào liên kết danh mục
    document.querySelectorAll('.dropdown-toggle').forEach(function (link) {
        link.addEventListener('click', function (event) {
            event.preventDefault();
            var target = document.querySelector(link.getAttribute('data-target'));
            if (target.classList.contains('collapse')) {
                // Đóng tất cả các danh mục khác trước khi mở danh mục hiện tại
                document.querySelectorAll('.collapsed-menu').forEach(function (menu) {
                    menu.classList.add('collapse');
                });
                target.classList.remove('collapse');
            } else {
                target.classList.add('collapse');
            }
        });
    });
    // Lấy phần tử danh mục
    var collapsedMenu = document.querySelector('.collapsed-menu');

    // Khi người dùng nhấp vào nút hoặc khu vực tương ứng
    function toggleMenu() {
        collapsedMenu.classList.toggle('active');
    }
</script>
<script>
    function filterHouses(type) {
        var houses = document.querySelectorAll('#filteredHouses li');
        houses.forEach(function (house) {
            var houseType = house.querySelector('p:nth-child(1)').textContent;
            if (houseType !== type) {
                house.style.display = 'none';
            } else {
                house.style.display = 'block';
            }
        });
    }
</script>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        var categoryId = 8 ; // Thay thế "your_category_id" bằng giá trị categoryId từ server

        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function() {
            if (this.readyState == 4 && this.status == 200) {
                var houseList = JSON.parse(this.responseText);
                displayHouseList(houseList);
            }
        };
        xhttp.open("GET", "/houses-by-category?categoryId=" + categoryId, true);
        xhttp.send();
    });

    function displayHouseList(houseList) {
        var houseListContainer = document.getElementById("house-list");

        houseList.forEach(function(house) {
            var houseElement = document.createElement("div");
            houseElement.textContent = house.name;
            houseListContainer.appendChild(houseElement);
        });
    }
</script>
<script>
    $(document).ready(function() {
        var itemsPerPage = 6; // Số sản phẩm trên mỗi trang
        var $items = $('.room'); // Các sản phẩm
        var numItems = $items.length; // Tổng số sản phẩm
        var numPages = Math.ceil(numItems / itemsPerPage); // Tổng số trang

        // Ẩn tất cả các sản phẩm
        $items.hide();

        // Hiển thị sản phẩm trên trang đầu tiên
        $items.slice(0, itemsPerPage).show();

        // Tạo danh sách các nút phân trang
        var $pagination = $('.pagination');
        for (var i = 1; i <= numPages; i++) {
            $('<li><a  href="javascript:void(0);" class="page-link">' + i + '</a></li>').appendTo($pagination);
        }

        // Gắn sự kiện onclick vào các nút phân trang
        $pagination.on('click', '.page-link', function(e) {
            e.preventDefault();
            var page = $(this).text();
            var start = (page - 1) * itemsPerPage;
            var end = start + itemsPerPage;

            $items.hide().slice(start, end).show();

// Lưu vị trí cuộn hiện tại
            var currentPosition = $(window).scrollTop();
            $items.hide().slice(start, end).show();

            // Đặt vị trí cuộn của trang về đầu trang
            $(window).scrollTop(0);
            // Đánh dấu nút phân trang hiện tại
            $pagination.find('.page-link').removeClass('active');
            $(this).addClass('active');
        });
    });
</script>
<script > $('.home-slider').owlCarousel({
    animateOut: false,
    // Các tùy chọn khác...
});</script>
</body>
</html>